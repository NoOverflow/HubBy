@page "/activities/{activityid}"
@using HubBy.Services
@inject ActivityService _ActivityService
@inject IJSRuntime _Rtime

<h3>Activity</h3>

@if (HubActivity == null)
{
    <h1>This activity doesn't exist, what are you even doing here ?</h1>
}
else
{
    <h1>@HubActivity.ActiTitle</h1>
    <p>Start  : @HubActivity.Start<br /></p>
    <p>End    : @HubActivity.End<br /></p>
    <p>Module : @HubActivity.Titlemodule</p>
    <button class="btn btn-primary" @onclick=OnAddCalendarClick>Add a google calendars reminder</button>
}

@code {
    [Parameter]
    public string ActivityID { get; set; }

    public Services.ApiModels.Activity HubActivity { get; set; }

    protected override void OnInitialized()
    {
        this.ActivityID = ActivityID ?? "Unknown";
        this.HubActivity = _ActivityService.Get(this.ActivityID);
    }

    public void OnAddCalendarClick()
    {
        _Rtime.InvokeAsync<object>("open", "https://www.google.com");
    }
}
